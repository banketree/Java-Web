# MyBatis  

## 1.ORM

ORM也就是对象关系映射，它其实是创建了一个可在编程语言里使用的--“虚拟对象数据库”。

将关系数据库映射成对象，每行代表一个对象，而每一行中的每一列代表该对象的每个属性。   

_万物皆对象，数据库其实也可以把每行看作对象，而orm其实就是用java代码把数据库的对象实现出来_    

Mybatis跟其他orm框架不同的是，它不是直接建立java对象和数据库之间的映射关系，对对象的操作方法到sql语句的映射关系。由于编写sql，所以用户获得sql执行的更多控制，所以开发者可以编写更加高效的sql语句。  

_我们用java对象直接操作数据库，方便但是不灵活。而sql来写则不方便。mybatis用xml标记然后用java查找占位符，说白了就是给你在java和sql之间提供更灵活的映射方案_   

## 2.分层架构  

![](../images/db13.png)     

- 接口层：主要提供给开发人员，开发人员根据接口操作数据库    
- 数据处理层：收到接口层的命令后之后就会对数据进行处理（查找，执行，执行映射处理）   
- 基础支撑层：最基础功能的支撑（连接管理，事务管理，配置加载，缓存处理），为上层提供基础支撑。     

## 3.环境搭建  

### 1. 加载jar包   





### 2.配置SqlSessionFactory     

1. 配置事务管理器   

依赖jdbc（也可以交给spring完成）

2. 数据源连接信息  
3. 添加mapper映射文件的位置   



### 3.新建Java对象，新建接口对对象进行操作    



### 4.mapper配置文件     

namespace指向接口类名，id是抽象方法，resultType指向对象，里面填写sql语句   

  

































